<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DynTable</title>
  <script src="js\jquery-3.3.1.min.js"></script>
  <script src="js\jquery.dynatable.js"></script>
  <link rel="stylesheet" media="all" href="css/bootstrap-2.3.2.min.css">
  <link rel="stylesheet" media="all" href="css/application.css">
  <link rel="stylesheet" media="all" href="css/dynatableORG.css">
  <link rel="stylesheet" media="all" href="css/dynatableEWT.css">
</head>
<body>
 
  <table id="my-table" class="table table-bordered responsive-table">
    <thead>
      <th class="rotate" data-dynatable-column="Path"><div><span>Path</span></div></th>
      <th class="rotate" data-dynatable-column="NameEndsWithTest"><div><span>Name Ends With Test</span></div></th>
    </thead>
    <tbody>
    </tbody>
  </table>

     
  <script>    
    function loadJSON(file,callback) {   
      var xobj = new XMLHttpRequest();
      xobj.overrideMimeType('application/json');
      xobj.open('GET', file, true); 
      xobj.onreadystatechange = function () {
        if (xobj.readyState == 4 && xobj.status == '200') {
        // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
          callback(xobj.responseText);
         }
      };
      xobj.send(null);  
    }
  
    loadJSON("data/dataEWT.json", createTable);
    
    function createTable(data) {
      data = JSON.parse(data);
      var table = $('#my-table').dynatable({
        features: {
          paginate: false,
          sort: true,
          pushState: true,
          search: true,
          recordCount: false,
          perPageSelect: true
        },
        writers: {
          'rank': function(record) {
            return record['rank'] ? record['rank'].toString() : '-';
          }, 
          'us-$': function(record) {
            return record['us-$'].toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
          }
        },
        dataset: {
          records:
            data
        },
        table: {
          copyHeaderClass: true
        }
      }).data('dynatable');
    };
         
  </script> 
   
</body>
</html>